{"version":3,"sources":["webpack:///./templates/imagesMarkup.hbs","webpack:///./js/apiService.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop","page","query","fetchImg","requestParam","this","fetch","then","response","json","parsedResponse","incrementPage","hits","input","resetPage","refs","searchForm","document","querySelector","gallery","button","getAndInsertImg","api","item","insertAdjacentHTML","addEventListener","e","preventDefault","currentTarget","elements","value","searchQuery","innerHTML","setTimeout","window","scrollTo","top","scrollY","behavior"],"mappings":"qGAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAOL,EAAUM,OAAQC,EAAOP,EAAUQ,iBAAkBC,EAAiBT,EAAUS,gBAAkB,SAASC,EAAQC,GAC1H,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,yEACHJ,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,gBAAkBA,EAASA,IACjF,0JACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,SAAWA,EAASA,IAC1E,yGACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,SAAWA,EAASA,IAC1E,qGACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,YAAcA,EAASA,IAC7E,6GACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,aAAeA,EAASA,IAC9E,mDACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIY,EAON,OAA+R,OAAtRA,GAPsBhB,EAAUS,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWT,EAAQ,QAAQa,KAAe,MAAVd,EAAiBA,EAAUD,EAAUiB,aAAe,GAAIhB,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUkB,QAAQ,EAAGd,EAAM,GAAG,QAAUJ,EAAUmB,KAAK,KAAOf,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBY,EAAS,IAC/S,SAAU,K,iEC3BG,GACbI,KAAM,EACNC,MAAO,GACPC,SAHa,WAGF,WACHC,EAAe,KAAKC,KAAKH,MAAb,SAA2BG,KAAKJ,KAAhC,sDAElB,OAAOK,MART,oEAQyBF,GACpBG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAEJ,OADA,EAAKC,gBACED,EAAeE,SAG5B,kBACE,OAAOP,KAAKH,OAEd,gBAAgBW,GACdR,KAAKH,MAAQW,GAEfF,cAnBa,WAoBXN,KAAKJ,MAAQ,GAEfa,UAtBa,WAuBXT,KAAKJ,KAAO,I,qBCrBVc,G,UAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,QAASF,SAASC,cAAc,YAChCE,OAAQH,SAASC,cAAc,iBA2BjC,SAASG,IACPC,EAAInB,WAAWI,MAAK,SAAAK,GAJtB,IAAkBW,IAKLX,EAJJG,EAAKI,QAAQK,mBAAmB,YAAa5C,IAAS2C,OAtB/DR,EAAKC,WAAWS,iBAAiB,UAGjC,SAAqBC,GACnBA,EAAEC,iBACF,IAAMd,EAAQa,EAAEE,cAAcC,SAAS3B,MAAM4B,MAC7CR,EAAIS,YAAclB,EAClBE,EAAKI,QAAQa,UAAY,GACzBV,EAAIR,YACJO,OARFN,EAAKK,OAAOK,iBAAiB,SAU7B,WACEJ,IACAY,YAAW,WACTC,OAAOC,SAAS,CACdC,KAAMF,OAAOG,QAAU,IACvBC,SAAU,aAEX,U","file":"main.678d087be39f14b99428.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"img__list-item\\\">\\r\\n<div class=\\\"photo-card\\\">\\r\\n  <img src=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \" alt=\\\"\\\" width=\\\"450\\\" height=\\\"300\\\"/>\\r\\n\\r\\n  <div class=\\\"stats\\\">\\r\\n      <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n      <i class=\\\"material-icons\\\">visibility</i>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n      <i class=\\\"material-icons\\\">comment</i>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n     \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n      <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n  </div>\\r\\n</div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const baseUrl =\r\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&';\r\n\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  fetchImg() {\r\n    const requestParam = `q=${this.query}&page=${this.page}&per_page=12&key=16429132-87648443c7058e02d90a34f5c`;\r\n\r\n    return fetch(baseUrl + requestParam)\r\n      .then(response => response.json())\r\n      .then(parsedResponse => {\r\n        this.incrementPage();\r\n        return parsedResponse.hits;\r\n      });\r\n  },\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n  set searchQuery(input) {\r\n    this.query = input;\r\n  },\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","import api from './js/apiService';\r\nimport template from './templates/imagesMarkup.hbs';\r\n\r\nimport './styles.css';\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  gallery: document.querySelector('#gallery'),\r\n  button: document.querySelector('#loadButton'),\r\n};\r\n\r\nrefs.searchForm.addEventListener('submit', searchQuery);\r\nrefs.button.addEventListener('click', loadMoreBtnHandler);\r\n\r\nfunction searchQuery(e) {\r\n  e.preventDefault();\r\n  const input = e.currentTarget.elements.query.value;\r\n  api.searchQuery = input;\r\n  refs.gallery.innerHTML = '';\r\n  api.resetPage();\r\n  getAndInsertImg();\r\n}\r\nfunction loadMoreBtnHandler() {\r\n  getAndInsertImg();\r\n  setTimeout(() => {\r\n    window.scrollTo({\r\n      top: +window.scrollY + 700,\r\n      behavior: 'smooth',\r\n    });\r\n  }, 300);\r\n}\r\n\r\nfunction insertLi(item) {\r\n  return refs.gallery.insertAdjacentHTML('beforeend', template(item));\r\n}\r\nfunction getAndInsertImg() {\r\n  api.fetchImg().then(hits => {\r\n    insertLi(hits);\r\n  });\r\n}\r\n"],"sourceRoot":""}